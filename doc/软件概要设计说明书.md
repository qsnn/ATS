# 软件概要设计说明书

## 1 引言

### 1.1 编写目的

本文档旨在描述ATS（Applicant Tracking System）招聘管理系统的概要设计方案，为系统的详细设计和实现提供指导。该文档面向系统架构师、开发人员和测试人员，详细描述系统的总体结构、功能模块划分、数据结构设计、接口设计等内容。

### 1.2 背景

ATS招聘管理系统是一个基于Web的企业级招聘管理平台，旨在帮助企业提高招聘效率，降低人力资源成本。系统采用前后端分离的架构模式，后端基于Spring Boot框架开发，前端使用HTML、CSS、JavaScript等技术实现。

### 1.3 定义

- **ATS**: Applicant Tracking System，招聘管理系统
- **JWT**: JSON Web Token，一种开放标准(RFC 7519)，用于在各方之间安全地传输信息
- **RESTful API**: 一种基于HTTP协议的API设计风格
- **MyBatis-Plus**: MyBatis的增强工具，简化了持久层开发
- **Spring Boot**: 一个基于Spring框架的快速开发脚手架
- **MVC**: Model-View-Controller，模型-视图-控制器架构模式

### 1.4 参考资料

1. GB/T 8567-2006 计算机软件文档编制规范
2. 《软件需求规格说明书》
3. Spring Boot官方文档
4. MyBatis-Plus官方文档
5. MySQL官方文档

## 2 总体设计

### 2.1 需求规定

本系统根据《软件需求规格说明书》中的功能需求和非功能需求进行设计，主要需求包括：

1. 用户管理功能（注册、登录、权限管理等）
2. 职位管理功能（发布、维护、搜索等）
3. 简历管理功能（创建、编辑、删除等）
4. 职位申请管理功能（申请、状态跟踪等）
5. 面试管理功能（安排、状态管理等）
6. 职位收藏功能
7. 人才库管理功能

### 2.2 运行环境

#### 2.2.1 硬件环境
- 服务器：Intel i5或同等性能以上处理器，8GB内存以上
- 客户端：支持现代浏览器的PC或移动设备

#### 2.2.2 支持软件
- 服务器端：JDK 17、MySQL 8.0
- 客户端：Chrome、Firefox、Safari、Edge等现代浏览器

### 2.3 基本设计概念和处理流程

系统采用前后端分离的架构模式，整体处理流程如下：

1. 用户通过浏览器访问前端页面
2. 前端通过HTTP请求调用后端RESTful API
3. 后端接收到请求后，通过JWT认证过滤器验证用户身份
4. 控制器处理业务请求，调用相应的服务层方法
5. 服务层执行具体的业务逻辑，调用数据访问层操作数据库
6. 数据访问层通过MyBatis-Plus操作数据库
7. 将处理结果逐层返回，最终通过前端展示给用户

### 2.4 结构

系统采用分层架构设计，从上到下分为以下层次：

1. **表示层（Presentation Layer）**：包括Web前端界面和RESTful API接口
2. **控制层（Controller Layer）**：处理HTTP请求，协调业务逻辑
3. **业务逻辑层（Service Layer）**：实现具体的业务逻辑
4. **数据访问层（Repository Layer）**：提供数据访问接口
5. **数据存储层（Data Storage Layer）**：MySQL数据库

### 2.5 功能需求与程序的关系

| 功能模块 | 涉及程序组件 |
|---------|-------------|
| 用户管理 | UserController, UserService, UserRepository, SysUser |
| 职位管理 | JobInfoController, JobInfoService, JobInfoRepository, JobInfo |
| 简历管理 | ResumeInfoController, ResumeInfoService, ResumeInfoRepository, ResumeInfo |
| 职位申请管理 | JobApplicationController, JobApplicationService, JobApplicationRepository, JobApplication |
| 公司信息管理 | CompanyInfoController, CompanyInfoService, CompanyInfoRepository, CompanyInfo |
| 面试信息管理 | InterviewInfoController, InterviewInfoService, InterviewInfoRepository, InterviewInfo |
| 职位收藏管理 | JobFavoriteController, JobFavoriteService, JobFavoriteRepository, JobFavorite |
| 人才库管理 | TalentPoolController, TalentPoolService, TalentPoolRepository, TalentPool |

### 2.6 人工处理过程

系统尽可能自动化处理各类业务流程，但在以下情况下需要人工介入：

1. 简历审核和筛选
2. 面试评价和决策
3. 特殊申请的审批
4. 系统异常处理

### 2.7 尚未解决的问题

1. 与第三方短信平台的集成尚未完成
2. 与企业微信/钉钉等办公平台的集成有待实现
3. 移动端APP的开发尚未启动

## 3 接口设计

### 3.1 用户接口

用户通过浏览器访问系统，系统提供直观易用的Web界面。主要界面包括：

1. 登录/注册界面
2. 求职者仪表板
3. HR/企业管理者仪表板
4. 职位列表和详情页面
5. 简历管理页面
6. 申请管理页面
7. 面试安排页面

### 3.2 外部接口

系统通过RESTful API与其他系统进行数据交换：

1. 短信发送接口（待集成）
2. 邮件发送接口
3. 第三方认证接口（待集成）

### 3.3 内部接口

系统内部各模块之间通过Java方法调用进行交互，服务层通过依赖注入方式获取其他服务实例。

## 4 运行设计

### 4.1 运行模块的组合

系统启动时按以下顺序初始化：
1. 加载Spring Boot应用上下文
2. 初始化数据库连接池
3. 初始化JWT工具类
4. 启动内嵌Tomcat服务器

### 4.2 运行控制

系统运行控制通过Spring Security框架实现：
1. 用户认证：通过JWT Token验证用户身份
2. 权限控制：根据用户角色控制访问权限
3. 请求过滤：过滤非法请求

### 4.3 运行时间

系统应具备7×24小时连续运行的能力，关键操作响应时间应满足以下要求：
1. 普通查询操作响应时间不超过2秒
2. 复杂查询操作响应时间不超过5秒
3. 数据导入导出操作响应时间不超过30秒

## 5 系统数据结构设计

### 5.1 逻辑结构设计

#### 5.1.1 用户表（sys_user）

| 字段名 | 类型 | 描述 |
|-------|------|-----|
| user_id | bigint | 用户ID，主键 |
| username | varchar(50) | 登录账号 |
| password | varchar(100) | 密码 |
| phone | varchar(20) | 手机号 |
| email | varchar(100) | 邮箱 |
| user_type | int | 用户类型 |
| status | int | 账号状态 |
| create_time | datetime | 创建时间 |
| update_time | datetime | 更新时间 |
| delete_flag | int | 删除标记 |
| company_id | bigint | 所属企业ID |

#### 5.1.2 职位信息表（job_info）

| 字段名 | 类型 | 描述 |
|-------|------|-----|
| job_id | bigint | 职位ID，主键 |
| company_id | bigint | 公司ID |
| job_name | varchar(100) | 职位名称 |
| department | varchar(50) | 部门 |
| province | varchar(50) | 省份 |
| city | varchar(50) | 城市 |
| district | varchar(50) | 区县 |
| salary_min | decimal(10,2) | 最低薪资 |
| salary_max | decimal(10,2) | 最高薪资 |
| education | int | 学历要求 |
| work_experience | int | 工作经验要求 |
| job_desc | text | 职位描述 |
| publisher_id | bigint | 发布人ID |
| publish_status | int | 发布状态 |
| create_time | datetime | 创建时间 |
| update_time | datetime | 更新时间 |
| delete_flag | int | 删除标记 |

#### 5.1.3 简历信息表（resume_info）

| 字段名 | 类型 | 描述 |
|-------|------|-----|
| resume_id | bigint | 简历ID，主键 |
| user_id | bigint | 用户ID |
| resume_name | varchar(100) | 简历名称 |
| name | varchar(50) | 姓名 |
| gender | int | 性别 |
| age | int | 年龄 |
| education | varchar(50) | 学历 |
| work_experience | varchar(200) | 工作经验 |
| skill | text | 技能 |
| job_intention | varchar(100) | 求职意向 |
| phone | varchar(20) | 联系电话 |
| email | varchar(100) | 邮箱 |
| create_time | datetime | 创建时间 |
| update_time | datetime | 更新时间 |
| delete_flag | int | 删除标记 |

#### 5.1.4 职位申请表（job_application）

| 字段名 | 类型 | 描述 |
|-------|------|-----|
| application_id | bigint | 申请ID，主键 |
| job_id | bigint | 职位ID |
| user_id | bigint | 用户ID |
| resume_id | bigint | 简历ID |
| status | int | 申请状态 |
| apply_time | datetime | 申请时间 |
| reason | varchar(200) | 操作原因 |
| create_time | datetime | 创建时间 |
| update_time | datetime | 更新时间 |
| delete_flag | int | 删除标记 |

#### 5.1.5 公司信息表（company_info）

| 字段名 | 类型 | 描述 |
|-------|------|-----|
| company_id | bigint | 公司ID，主键 |
| company_name | varchar(100) | 公司名称 |
| company_desc | text | 公司描述 |
| company_address | varchar(200) | 公司地址 |
| contact_person | varchar(50) | 联系人 |
| contact_phone | varchar(20) | 联系电话 |
| contact_email | varchar(100) | 联系邮箱 |
| creator_id | bigint | 创建人ID |
| create_time | datetime | 创建时间 |
| update_time | datetime | 更新时间 |
| delete_flag | int | 删除标记 |

#### 5.1.6 面试信息表（interview_info）

| 字段名 | 类型 | 描述 |
|-------|------|-----|
| arrange_id | bigint | 安排ID，主键 |
| application_id | bigint | 申请ID |
| interviewer_id | bigint | 面试官ID |
| interviewee_id | bigint | 面试者ID |
| interview_time | datetime | 面试时间 |
| interview_place | varchar(100) | 面试地点 |
| status | int | 面试状态 |
| create_time | datetime | 创建时间 |
| update_time | datetime | 更新时间 |
| delete_flag | int | 删除标记 |

#### 5.1.7 职位收藏表（job_favorite）

| 字段名 | 类型 | 描述 |
|-------|------|-----|
| favorite_id | bigint | 收藏ID，主键 |
| user_id | bigint | 用户ID |
| job_id | bigint | 职位ID |
| create_time | datetime | 创建时间 |
| delete_flag | int | 删除标记 |

#### 5.1.8 人才库表（talent_pool）

| 字段名 | 类型 | 描述 |
|-------|------|-----|
| talent_id | bigint | 人才ID，主键 |
| resume_id | bigint | 简历ID |
| company_id | bigint | 公司ID |
| tag | varchar(50) | 标签 |
| operator_id | bigint | 操作人ID |
| put_in_time | datetime | 入库时间 |
| update_time | datetime | 更新时间 |
| delete_flag | int | 删除标记 |

### 5.2 物理结构设计

数据库表采用InnoDB存储引擎，字符集为utf8mb4，排序规则为utf8mb4_unicode_ci。

所有表均包含create_time和update_time字段用于记录创建和更新时间，delete_flag字段用于逻辑删除。

主键均采用bigint类型自增ID，外键关系通过应用层维护。

## 6 出错处理设计

### 6.1 出错输出信息

系统定义了统一的错误码和错误信息：

1. USERNAME_EXISTS(1001, "用户名已存在")
2. PHONE_EXISTS(1002, "手机号已存在")
3. EMAIL_EXISTS(1003, "邮箱已存在")
4. USER_NOT_FOUND(1004, "用户不存在")
5. PASSWORD_ERROR(1005, "密码错误")
6. ACCOUNT_DISABLED(1006, "账户已被禁用")
7. PARAM_INVALID(1007, "参数无效")
8. SYSTEM_ERROR(9999, "系统错误")

### 6.2 补救措施

1. **输入验证**：对所有用户输入进行严格验证
2. **异常捕获**：通过全局异常处理器捕获系统异常
3. **日志记录**：详细记录错误日志，便于问题追踪
4. **事务回滚**：对于数据库操作，使用事务确保数据一致性
5. **友好提示**：向用户提供清晰的错误提示信息

### 6.3 系统维护设计

1. 定期备份数据库
2. 监控系统运行状态
3. 记录系统操作日志
4. 提供系统健康检查接口

## 7 技术实现说明

### 7.1 开发框架

系统基于Spring Boot框架开发，整合了以下技术组件：

1. **Spring MVC**：用于构建Web应用和RESTful API
2. **Spring Security**：用于安全认证和授权
3. **MyBatis-Plus**：用于数据库访问和ORM映射
4. **JWT**：用于用户身份认证
5. **Lombok**：用于简化Java Bean代码

### 7.2 核心功能实现

#### 7.2.1 用户认证与授权

系统采用JWT（JSON Web Token）实现无状态认证机制：

1. 用户登录时，系统验证用户名和密码
2. 验证通过后生成JWT Token并返回给客户端
3. 客户端在后续请求中携带Token
4. 服务端通过JWT过滤器验证Token有效性
5. 根据用户角色进行权限控制

#### 7.2.2 数据访问层

采用MyBatis-Plus作为ORM框架，具有以下特点：

1. 提供通用CRUD操作，减少重复代码
2. 支持逻辑删除
3. 自动填充创建时间和更新时间字段
4. 支持分页查询

#### 7.2.3 业务逻辑层

服务层采用面向接口编程的设计模式：

1. 定义Service接口
2. 实现ServiceImpl具体业务逻辑
3. 通过依赖注入解耦各层之间的依赖关系

### 7.3 安全设计

1. **密码安全**：使用BCryptPasswordEncoder对用户密码进行加密存储
2. **通信安全**：建议使用HTTPS协议传输数据
3. **认证安全**：JWT Token有过期时间限制
4. **权限控制**：基于角色的访问控制（RBAC）

## 8 系统部署说明

### 8.1 部署环境要求

1. JDK 17或更高版本
2. MySQL 8.0或更高版本
3. 至少4GB内存
4. 至少10GB硬盘空间

### 8.2 部署步骤

1. 安装JDK并配置环境变量
2. 安装MySQL并创建数据库
3. 执行数据库脚本创建表结构
4. 修改application.yml配置文件中的数据库连接信息
5. 使用Maven打包项目：`mvn clean package`
6. 运行jar包：`java -jar ATS-0.0.1-SNAPSHOT.jar`

### 8.3 配置说明

主要配置项包括：

1. 服务器端口配置
2. 数据库连接配置
3. 日志级别配置
4. JWT密钥配置

## 9 可维护性设计

### 9.1 模块化设计

系统采用模块化设计，各功能模块相对独立，便于维护和扩展。

### 9.2 日志记录

系统使用Slf4j日志框架记录操作日志和错误日志，便于问题排查。

### 9.3 异常处理

系统实现了全局异常处理机制，能够捕获并处理各种异常情况。

### 9.4 配置管理

系统的关键配置通过配置文件进行管理，便于调整和维护。

## 10 系统性能设计

### 10.1 数据库优化

1. 为常用查询字段建立索引
2. 合理设计表结构，避免冗余数据
3. 使用分页查询，避免一次性加载大量数据

### 10.2 缓存设计

1. 对于频繁访问但不经常变动的数据，使用缓存提高访问速度
2. 合理设置缓存失效时间

### 10.3 并发处理

1. 使用连接池管理数据库连接
2. 对于耗时操作，采用异步处理方式